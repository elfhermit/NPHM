	
<!DOCTYPE>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8">
  <title>Test chart js</title>
</head>
<body>
  <div>
    <h2>bar</h2>
    <canvas id="myChart"></canvas>
  </div>
  <div>
    <h2>doughnut </h2>
    <canvas id="myChart2"></canvas>
  </div>
  <div>
    <h2>pie</h2>
    <canvas id="myChart3"></canvas>
  </div>
</body>
</html>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
      datasets: [{
        label: '# of Votes',
        data: [12, 19, 3, 5, 2, 3],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
    
//---------------------------------------------------------
  const data = {
    labels: [
      'Red',
      'Blue',
      'Yellow'
    ],
    datasets: [{
      label: 'My First Dataset',
      data: [300, 50, 100],
      backgroundColor: [
        'rgb(255, 99, 132)',
        'rgb(54, 162, 235)',
        'rgb(255, 205, 86)'
      ],
      hoverOffset: 4
    }]
  };
  const config = {
    type: 'doughnut',
    data: data,
  };

  const ctx2 = document.getElementById('myChart2');
  new Chart(ctx2, config);

//---------------------------------------------------------
// try link on chart
  var canvasP = document.getElementById("myChart3");
  var ctxP = canvasP.getContext('2d');
  var myPieChart = new Chart(ctxP, {
    type: 'pie',
    data: {
        labels: ["Värde 1", "Värde 2", "Värde 3", "Värde 4", "Värde 5", "Värde 6", "Värde 7"],
        datasets: [{
          data: [1, 5, 10, 20, 50, 70, 50],
          backgroundColor: ["#64B5F6", "#FFD54F", "#2196F3", "#FFC107", "#1976D2", "#FFA000", "#0D47A1"],
          hoverBackgroundColor: ["#B2EBF2", "#FFCCBC", "#4DD0E1", "#FF8A65", "#00BCD4", "#FF5722", "#0097A7"]
        }]
    },
    options: {
        legend: {
          display: true,
          position: "right"
        }
    }
  });

  /* // ref https://stackoverflow.com/questions/45980436/chart-js-link-to-other-page-when-click-on-specific-section-in-chart
  //-- this is for chartjs ver-2
  canvasP.onclick = function(e) {
    var slice = myPieChart.getElementAtEvent(e);
    if (!slice.length) return; // return if not clicked on slice
    var label = slice[0]._model.label;
    switch (label) {
        // add case for each label/slice
        case 'Värde 5':
          alert('clicked on slice 5');
          window.open('https://gemini.google.com/app');
          break;
        case 'Värde 6':
          alert('clicked on slice 6');
          window.open('https://markdown.tw/#philosophy');
          break;
        // add rests ...
    }
  }*/
  canvasP.onclick = function(e) {
   var slice = myPieChart.getElementsAtEventForMode(e, 'nearest', {intersect: true}, true);
   if (!slice.length) return; // return if not clicked on slice
   var label = myPieChart.data.labels[slice[0].index];
   switch (label) {
      // add case for each label/slice
      case 'Värde 5':
        alert('clicked on slice 5');
        window.open('https://gemini.google.com/app');
        break;
      case 'Värde 6':
        alert('clicked on slice 6');
        window.open('https://markdown.tw/#philosophy');
        break;
      // add rests ...
   }
}

</script>
