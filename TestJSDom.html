<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
Hello Line~ Test JS Dom ~
<script type="text/javascript">

// alternative to load event
    $(function () {
        var vConsole = new window.VConsole();
        console.log("hello d ready~~");
        document.onreadystatechange = subSomething;
		
		console.log("hello: " + document.readyState);
    });
    
    function subSomething() {
        console.log("Is complete?");
        if (document.readyState == "complete") {
            
            let UToken = Math.random().toString(36).substr(2) + Date.now().toString(36).substr(4);
            
            liff
			.init({ liffId:"1657399004-vy2mYprY", })
			.then(() => {
				liff.ready.then(() => {
					let _context = liff.getContext();
					if (_context.userId) {
						if (liff.getOS() == "android" && (liff.isInClient() || (navigator.userAgent.indexOf("Line") > -1)) ) {
							alert("hello");
						}
						else{ 
							alert(_context.userId);
						}
					}
					else {
						alert("login");
						liff.login();
					}                    
				});
			})
			.catch((err) => {
				console.log(err.code, err.message);
			});
		}
	}    
</script>
